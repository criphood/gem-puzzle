!function(){"use strict";var t,n={1798:function(t,n,e){e(7378);function r(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return a(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return a(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return c=t.done,t},e:function(t){l=!0,i=t},f:function(){try{c||null==e.return||e.return()}finally{if(l)throw i}}}}function a(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var o,i,c,l=document.querySelector("body");function u(){return localStorage.setItem("puzzleConfig",JSON.stringify(c))}function s(){return JSON.parse(localStorage.getItem("puzzleConfig"))}c=null!==localStorage.getItem("puzzleConfig")?s():{duration:0,counter:0,countItems:16,isGaming:!1,playSound:!0,matrix:null,topResultsList:[]};var f,d,v,m,p=C(l,"options","div");p.innerHTML='\n    <button class="start">Start</button>\n    <button class="reset">Reset</button>\n    <button class="sound">Sound</button>\n    <button class="results">Results</button>\n';var h,y=r(p.children);try{for(y.s();!(h=y.n()).done;){var g=h.value;g.matches(".start")&&(f=g),g.matches(".reset")&&(d=g),g.matches(".sound")&&(v=g),g.matches(".results")&&(m=g)}}catch(t){y.e(t)}finally{y.f()}var b=C(l,"modal-wrapper","div"),x=C(b,"modal-overlay","div"),L=C(x,"modal","div"),S=C(L,"header","h1"),z=[];S.innerHTML="Top Players";var k=C(l,"progress","div"),M=C(k,"container_moves","div"),w=C(k,"container_time","div");function I(){M.innerHTML="\n        <span>Moves: </span>\n        <span>".concat(c.counter,"</span>\n    ")}function E(){return o=setInterval((function(){c.duration+=1,T(),u()}),1e3)}function O(){c.duration=0,T(),clearInterval(o)}function T(){var t=Math.floor(c.duration/60),n=c.duration%60;1===t.toString().length&&(t="0".concat(t)),1===n.toString().length&&(n="0".concat(n)),function(t,n){w.innerHTML="\n        <span>Time: </span>\n        <span>".concat(t,":").concat(n,"</span>\n    ")}(t,n)}c.isGaming&&E(),T();var _=C(l,"wrapper","div"),A=new Audio("./assets/movement.mp3");v.addEventListener("click",(function(){!0===c.playSound?(c.playSound=!1,v.style.background="red",v.style.color="#fff"):(c.playSound=!0,v.style.color="#000",v.style.background="#f5f5f5"),u()}));var q=C(l,"other_sizes","div");function C(t,n,e){var r=document.createElement(e);return r.classList.add(n),t.append(r),r}q.innerHTML="\n    <button data-size='3'>3x3</button>\n    <button data-size='4'>4x4</button>\n    <button data-size='5'>5x5</button>\n    <button data-size='6'>6x6</button>\n    <button data-size='7'>7x7</button>\n    <button data-size='8'>8x8</button>\n",q.children[Math.sqrt(c.countItems)-3].classList.add("active");var G=q.querySelectorAll("button");function H(){var t=C(_,"puzzle_container","div");I(),function(){for(var n=1;n<=c.countItems;n++){var e=document.createElement("button");e.classList.add("puzzle_block"),c.isGaming||e.classList.add("inactive"),e.innerHTML="<span>".concat(n),e.draggable=!0,e.dataset.matrix_id="".concat(n),t.append(e)}i=Array.from(t.querySelectorAll(".puzzle_block"))}();for(var n=(100/Math.sqrt(c.countItems)).toFixed(3),e=0;e<t.childNodes.length;e++)t.childNodes[e].style.width="".concat(n,"%"),t.childNodes[e].style.height="".concat(n,"%");var a=i[c.countItems-1];a.style.display="none";var l=T(i.map((function(t){return+t.dataset.matrix_id})));function p(){var t=l.flat().map((function(t){return{value:t,sort:Math.random()}})).sort((function(t,n){return t.sort-n.sort})).map((function(t){return t.value}));s()&&null!==s().matrix?q(l=s().matrix):!function(t){for(var n=0,e=0,r=Math.max.apply(null,t.flat()),a=t.flat(),o=0;o<t.length;o++)for(var i=0;i<t[o].length;i++)t[o][i]===r&&(n+=e+=o+1);for(var c=function(t){var e=a.slice(t);e.forEach((function(t){t<e[0]&&e[0]!==r&&n++}))},l=0;l<a.length;l++)c(l);return t.length%2==0||e%2==0?n%2==0:!(n%2==0)}(l=T(t))?p():q(l)}q(l),p(),c.playSound?(v.style.background="#f5f5f5",v.style.color="#000"):(v.style.background="red",v.style.color="#fff");var h=+a.dataset.matrix_id;f.addEventListener("click",(function(){c.isGaming=!0,c.matrix=null,c.counter=0,u(),O(),I(),E(),l=T(i.map((function(t){return+t.dataset.matrix_id}))),p();var n,e=r(t.children);try{for(e.s();!(n=e.n()).done;){n.value.classList.remove("inactive")}}catch(t){e.e(t)}finally{e.f()}c.matrix=l,u()})),d.addEventListener("click",(function(){c.isGaming=!1,c.counter=0,c.matrix=null,O(),I(),u();var n,e=r(t.children);try{for(e.s();!(n=e.n()).done;){n.value.classList.add("inactive")}}catch(t){e.e(t)}finally{e.f()}}));var y=function(t){var n=t.target.closest("button");n&&(S(+n.dataset.matrix_id),c.matrix=l,u())};t.ondragover=function(t){t.preventDefault()};var g,b=r(t.children);try{for(b.s();!(g=b.n()).done;){g.value.ondragstart=k}}catch(t){b.e(t)}finally{b.f()}function S(n){var e,a,i,s,f=H(n,l),d=H(h,l);(e=f,a=d,i=Math.abs(e.x-a.x),s=Math.abs(e.y-a.y),!(1!==i&&1!==s||e.x!==a.x&&e.y!==a.y))&&(c.playSound&&A.play(),function(n,e,a){var i=a[n.y][n.x];a[n.y][n.x]=a[e.y][e.x],a[e.y][e.x]=i,function(t){for(var n=t.flat(),e=0;e<M.length;e++)if(n[e]!==M[e])return!1;return!0}(a)&&(clearInterval(o),t.removeEventListener("click",y),setTimeout((function(){t.classList.add("winner"),setTimeout((function(){t.classList.remove("winner"),setTimeout((function(){var n,e=r(t.children);try{for(e.s();!(n=e.n()).done;)n.value.classList.add("inactive")}catch(t){e.e(t)}finally{e.f()}var a=w.children[1].textContent;alert("Hooray! You solved the puzzle in ".concat(a," and ").concat(c.counter," moves!")),function(t,n){var e,a=c.topResultsList,o=[],i={},l=prompt("Input your name","Player"),s=r(a);try{for(s.s();!(e=s.n()).done;){var f=e.value;o.push(f.moves)}}catch(t){s.e(t)}finally{s.f()}var d=Math.max.apply(null,o);if(i.name=null===l?"noName":l,i.time=t,i.moves=n,a.length<10)a.push(i);else for(var v=0;v<a.length;v++)a[v].moves===d&&a.splice(v,1,i);a.sort((function(t,n){if(t.moves<n.moves)return-1})),u()}(a,c.counter),c.isGaming=!1,c.counter=0,c.matrix=null,I(),O(),u(),t.addEventListener("click",y)}),300)}),1e3)}),500))}(d,f,l),q(l),c.counter++,u()),I()}function k(t){t.dataTransfer.setData("id",t.target.dataset.matrix_id)}t.addEventListener("click",y),t.addEventListener("drop",(function(t){var n=t.dataTransfer.getData("id");n&&(S(+n),c.matrix=l,u())}));var M=new Array(i.length).fill(0).map((function(t,n){return n+1}));function T(t){for(var n=[],e=0;e<Math.sqrt(c.countItems);e++)n.push([]);for(var r=0,a=0,o=0;o<t.length;o++)r>=n.length&&(a++,r=0),n[a][r]=t[o],r++;return n}function q(t){for(var n=0;n<t.length;n++)for(var e=0;e<t[n].length;e++){var r=t[n][e];G(i[r-1],e,n)}}function G(t,n,e){t.style.transform="translate3D(".concat(100*n,"%, ").concat(100*e,"%, 0)")}function H(t,n){for(var e=0;e<n.length;e++)for(var r=0;r<n[e].length;r++)if(n[e][r]===t)return{x:r,y:e};return null}m.addEventListener("click",(function(){for(var t=document.querySelectorAll(".modal-item"),n=0;n<t.length;n++)t[n].remove();!function(){var t=c.topResultsList;z=[];for(var n=0;n<t.length;n++)z.push("".concat(n+1,". ").concat(t[n].name," with ").concat(t[n].moves," moves"));for(var e=0,r=z;e<r.length;e++){var a=r[e];C(L,"modal-item","div").append(a)}}(),L.classList.add("modal--visible"),x.classList.add("modal-overlay--visible"),x.addEventListener("click",(function(t){t.target===x&&x.classList.remove("modal-overlay--visible")}))}))}G.forEach((function(t){t.addEventListener("click",(function(){c.isGaming=!1,c.matrix=null,c.countItems=Math.pow(+t.dataset.size,2),u(),document.querySelector(".puzzle_container").remove();var n,e=r(G);try{for(e.s();!(n=e.n()).done;){n.value.classList.remove("active")}}catch(t){e.e(t)}finally{e.f()}t.classList.add("active"),c.counter=0,O(),H(),c.matrix=null,u()}))})),H()}},e={};function r(t){var a=e[t];if(void 0!==a)return a.exports;var o=e[t]={exports:{}};return n[t](o,o.exports,r),o.exports}r.m=n,t=[],r.O=function(n,e,a,o){if(!e){var i=1/0;for(s=0;s<t.length;s++){e=t[s][0],a=t[s][1],o=t[s][2];for(var c=!0,l=0;l<e.length;l++)(!1&o||i>=o)&&Object.keys(r.O).every((function(t){return r.O[t](e[l])}))?e.splice(l--,1):(c=!1,o<i&&(i=o));if(c){t.splice(s--,1);var u=a();void 0!==u&&(n=u)}}return n}o=o||0;for(var s=t.length;s>0&&t[s-1][2]>o;s--)t[s]=t[s-1];t[s]=[e,a,o]},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},function(){var t={179:0};r.O.j=function(n){return 0===t[n]};var n=function(n,e){var a,o,i=e[0],c=e[1],l=e[2],u=0;if(i.some((function(n){return 0!==t[n]}))){for(a in c)r.o(c,a)&&(r.m[a]=c[a]);if(l)var s=l(r)}for(n&&n(e);u<i.length;u++)o=i[u],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(s)},e=self.webpackChunk=self.webpackChunk||[];e.forEach(n.bind(null,0)),e.push=n.bind(null,e.push.bind(e))}(),r.O(void 0,[4],(function(){return r(1202)}));var a=r.O(void 0,[4],(function(){return r(1798)}));a=r.O(a)}();